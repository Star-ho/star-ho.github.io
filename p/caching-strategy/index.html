<!doctype html><html lang=ko-kr dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="어디에 저장할 것인가? In-memory caching 데이터를 데이터베이스나 디스크가 아닌 RAM에 저장하는 방식 높은 조회 성능을 가짐 비 휘발성, 서버가 종료되면 삭제됨 중요한 데이터를 보관하기 힘듦 정말 성능이 중요한 서버라면 RAM에 저장하고 분산 합의 알고리즘(ex. Raft 알고리즘)으로 분산해서 저장 Distributed caching 하나의 네트워크에 있는 서버, 노드들의 데이터를 한곳에 캐싱하는 \b방식 ex) Redis, memcached 높은 가용성과 확정성이 필요한 서비스에서 유용함 다른 지역에있는 데이터베이스의 정보를 가져오면 시간이 오래 걸리기에 지역마다 caching server를 두어 지역간 지연시간을 줄임 Client-Side caching 데이터를 사용자의 장비(ex. 웹브라우저)에 저장하는 방식 javaScript, image같은 정적 리소스에 자주 접근해야하는 경우 유용함 최신의 데이터가 아닌 옛날 데이터를 가져오지 않을 수 있기에, 정책과 만료시간을 잘 고려해야함 캐시 전략 Cache-Aside "><title>Caching Strategy</title>
<link rel=canonical href=https://sungho94.me/p/caching-strategy/><link rel=stylesheet href=/scss/style.min.0304c6baf04e01a8fe70693791cb744d56a3578a3120a8796cefc66825aa39c7.css><meta property='og:title' content="Caching Strategy"><meta property='og:description' content="어디에 저장할 것인가? In-memory caching 데이터를 데이터베이스나 디스크가 아닌 RAM에 저장하는 방식 높은 조회 성능을 가짐 비 휘발성, 서버가 종료되면 삭제됨 중요한 데이터를 보관하기 힘듦 정말 성능이 중요한 서버라면 RAM에 저장하고 분산 합의 알고리즘(ex. Raft 알고리즘)으로 분산해서 저장 Distributed caching 하나의 네트워크에 있는 서버, 노드들의 데이터를 한곳에 캐싱하는 \b방식 ex) Redis, memcached 높은 가용성과 확정성이 필요한 서비스에서 유용함 다른 지역에있는 데이터베이스의 정보를 가져오면 시간이 오래 걸리기에 지역마다 caching server를 두어 지역간 지연시간을 줄임 Client-Side caching 데이터를 사용자의 장비(ex. 웹브라우저)에 저장하는 방식 javaScript, image같은 정적 리소스에 자주 접근해야하는 경우 유용함 최신의 데이터가 아닌 옛날 데이터를 가져오지 않을 수 있기에, 정책과 만료시간을 잘 고려해야함 캐시 전략 Cache-Aside "><meta property='og:url' content='https://sungho94.me/p/caching-strategy/'><meta property='og:site_name' content="Sungho's Dev BLog"><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='Cache'><meta property='article:tag' content='hugo_blog'><meta property='article:tag' content='Caching-Strategy'><meta property='article:published_time' content='2024-03-02T22:41:32+00:00'><meta property='article:modified_time' content='2024-04-21T09:36:36+00:00'><meta name=twitter:title content="Caching Strategy"><meta name=twitter:description content="어디에 저장할 것인가? In-memory caching 데이터를 데이터베이스나 디스크가 아닌 RAM에 저장하는 방식 높은 조회 성능을 가짐 비 휘발성, 서버가 종료되면 삭제됨 중요한 데이터를 보관하기 힘듦 정말 성능이 중요한 서버라면 RAM에 저장하고 분산 합의 알고리즘(ex. Raft 알고리즘)으로 분산해서 저장 Distributed caching 하나의 네트워크에 있는 서버, 노드들의 데이터를 한곳에 캐싱하는 \b방식 ex) Redis, memcached 높은 가용성과 확정성이 필요한 서비스에서 유용함 다른 지역에있는 데이터베이스의 정보를 가져오면 시간이 오래 걸리기에 지역마다 caching server를 두어 지역간 지연시간을 줄임 Client-Side caching 데이터를 사용자의 장비(ex. 웹브라우저)에 저장하는 방식 javaScript, image같은 정적 리소스에 자주 접근해야하는 경우 유용함 최신의 데이터가 아닌 옛날 데이터를 가져오지 않을 수 있기에, 정책과 만료시간을 잘 고려해야함 캐시 전략 Cache-Aside "><link rel="shortcut icon" href=/favicon.png><script async src="https://www.googletagmanager.com/gtag/js?id=G-PTKY5BPR7H"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-PTKY5BPR7H")}</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="메뉴 여닫기">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu1582294339771580780.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>🍥</span></figure><div class=site-meta><h1 class=site-name><a href=/>Sungho's Dev BLog</a></h1><h2 class=site-description>백엔드 개발자 황성호입니다.</h2></div></header><ol class=menu-social><li><a href=https://github.com/Star-ho target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://www.linkedin.com/in/starho/ target=_blank title=LinkedIn rel=me><svg fill="#000" width="800" height="800" viewBox="0 0 24 24"><path d="M6.975 20.667H3.117V9.059H6.975zM5.072 3.462a2.011 2.011.0 10-.051 4.012h.026a2.012 2.012.0 10.025-4.012zM9.111 20.667h3.858V14.185a2.639 2.639.0 01.127-.941 2.111 2.111.0 011.98-1.411c1.4.0 1.955 1.064 1.955 2.625v6.209h3.858V14.011c0-3.565-1.9-5.225-4.442-5.225A3.828 3.828.0 0012.97 10.7V9.059H9.111c.051 1.089.0 11.609.0 11.609z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>다크 모드</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">목차</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#어디에-저장할-것인가>어디에 저장할 것인가?</a><ol><li><a href=#in-memory-caching>In-memory caching</a></li><li><a href=#distributed-caching>Distributed caching</a></li><li><a href=#client-side-caching>Client-Side caching</a></li></ol></li><li><a href=#캐시-전략>캐시 전략</a><ol><li><a href=#cache-aside>Cache-Aside</a></li><li><a href=#read-through>Read-Through</a></li><li><a href=#write-through>Write-Through</a></li><li><a href=#write-behind>Write-Behind</a></li><li><a href=#write-around>Write-Around</a></li></ol></li><li><a href=#캐시-성능-분석-요소>캐시 성능 분석 요소</a><ol><li><a href=#참고자료>참고자료</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/cache/>Cache</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/caching-strategy/>Caching Strategy</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Mar 02, 2024</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>2 분 정도</time></div></footer></div></header><section class=article-content><h2 id=어디에-저장할-것인가>어디에 저장할 것인가?</h2><h3 id=in-memory-caching>In-memory caching</h3><ul><li>데이터를 데이터베이스나 디스크가 아닌 RAM에 저장하는 방식</li><li>높은 조회 성능을 가짐</li><li>비 휘발성, 서버가 종료되면 삭제됨<ul><li>중요한 데이터를 보관하기 힘듦</li><li>정말 성능이 중요한 서버라면 RAM에 저장하고 분산 합의 알고리즘(ex. Raft 알고리즘)으로 분산해서 저장</li></ul></li></ul><h3 id=distributed-caching>Distributed caching</h3><ul><li>하나의 네트워크에 있는 서버, 노드들의 데이터를 한곳에 캐싱하는 방식<ul><li>ex) Redis, memcached</li></ul></li><li>높은 가용성과 확정성이 필요한 서비스에서 유용함</li><li>다른 지역에있는 데이터베이스의 정보를 가져오면 시간이 오래 걸리기에 지역마다 caching server를 두어 지역간 지연시간을 줄임</li></ul><h3 id=client-side-caching>Client-Side caching</h3><ul><li>데이터를 사용자의 장비(ex. 웹브라우저)에 저장하는 방식</li><li>javaScript, image같은 정적 리소스에 자주 접근해야하는 경우 유용함</li><li>최신의 데이터가 아닌 옛날 데이터를 가져오지 않을 수 있기에, 정책과 만료시간을 잘 고려해야함</li></ul><h2 id=캐시-전략>캐시 전략</h2><h3 id=cache-aside>Cache-Aside</h3><p><img src=/image/real-resource-image/Pasted%20image%2020240216132133.png loading=lazy alt=center|700></p><ul><li>캐시에서 데이터를 확인 후, 캐시에 데이터가 없다면 데이터베이스에 요청하는 방식</li><li>어플리케이션이 캐시 관리의 책임을 가짐</li><li>캐시를 최신상태로 관리하도록 노력이 많이 필요함</li></ul><blockquote><ul><li>한번에 많은 캐시를 refresh할때 부하가 발생할 수 있음<ul><li>ex) 캐시서버가 재시작할떄, 모든 캐시를 12시에 초기화 할때</li></ul></li><li>이때 캐시서버에 많은 부하가 갈 수 있으므로 재시작시에는 어플리케이션에 바로 연결하는 것보다는 캐시를 warming후 연결하는것이 부하가 적음</li><li>일정 시간에 초기화시 한번에 많은 부하가 갈 수 있으므로 정각에 모든 캐시를 초기화 하는것이 아닌, 무작위 텀을 두고 초기화 하는것이 부하가 적음</li></ul></blockquote><h3 id=read-through>Read-Through</h3><p><img src=/image/real-resource-image/Pasted%20image%2020240216132233.png loading=lazy alt=center|700></p><ul><li>캐시에 데이터를 확인하고, 데이터가 없다면 데이터베이스를 읽어 캐시에 데이터를 작성하고 다시 캐시에서 데이터를 읽는 방식</li><li>어플리케이션에서는 캐시에서만 데이터를 읽음</li></ul><h3 id=write-through>Write-Through</h3><p><img src=/image/real-resource-image/Pasted%20image%2020240216132203.png loading=lazy alt=center|700></p><ul><li>쓰기작업시 캐시와 데이터베이스 두곳 모두에 데이터를 쓰는 방식</li><li>캐시에 항상 최신의 데이터가 있다는것을 보장</li><li>쓰기성능이 좋지 않음</li></ul><blockquote><p>비동기 처리로 쓰기성능을 향상시킬 수 있지 않을까?</p></blockquote><h3 id=write-behind>Write-Behind</h3><p><img src=/image/real-resource-image/Pasted%20image%2020240216132217.png loading=lazy alt=center|700></p><ul><li>쓰기작업시 캐시에 데이터를 모아두었다가</li><li>쓰기성능이 증가됨</li><li>캐시를 제대로 관리하지 않으면 데이터 불일치가 발생할 수 있음</li></ul><h3 id=write-around>Write-Around</h3><p><img src=/image/real-resource-image/Pasted%20image%2020240218223235.png loading=lazy alt=center|600></p><ul><li>모든 데이터는 데이터베이스에 저장되고, 읽은 데이터만 캐시에 저장되는 방식</li><li>Cache miss가 발생하는 경우에만 캐시에 저장되므로 데이터 불일치가 발생할 수 있음</li></ul><h2 id=캐시-성능-분석-요소>캐시 성능 분석 요소</h2><ul><li>hit rate<ul><li>요청에서 얼만큼 데이터가 적절히 반환되었는가 판단</li></ul></li><li>데이터의 일관성<ul><li>데이터가 얼마나 일관되게 읽혀졌는지</li><li>실데이터와 불일치가 얼마나 적게 발생했는지</li></ul></li></ul><h3 id=참고자료>참고자료</h3><p><a class=link href=https://medium.com/@mmoshikoo/cache-strategies-996e91c80303 target=_blank rel=noopener>https://medium.com/@mmoshikoo/cache-strategies-996e91c80303</a><br><a class=link href=https://yoongrammer.tistory.com/101 target=_blank rel=noopener>https://yoongrammer.tistory.com/101</a></p><p>#Cache<br>#Infrastructure</p></section><footer class=article-footer><section class=article-tags><a href=/tags/cache/>Cache</a>
<a href=/tags/hugo_blog/>Hugo_blog</a>
<a href=/tags/caching-strategy/>Caching-Strategy</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section><section class=article-lastmod><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>마지막 수정: Apr 21, 2024 09:36 UTC</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>관련 글</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/p/cache-passivation-expiration-eviction/><div class=article-details><h2 class=article-title>Cache Passivation, Expiration, Eviction</h2></div></a></article></div></div></aside><script src=https://utteranc.es/client.js repo=Star-ho/star-ho.github.io issue-term=pathname label=Comments crossorigin=anonymous async></script><style>.utterances{max-width:unset}</style><script>let utterancesLoaded=!1;function setUtterancesTheme(e){let t=document.querySelector(".utterances iframe");t&&t.contentWindow.postMessage({type:"set-theme",theme:`github-${e}`},"https://utteranc.es")}addEventListener("message",e=>{if(e.origin!=="https://utteranc.es")return;utterancesLoaded=!0,setUtterancesTheme(document.documentElement.dataset.scheme)}),window.addEventListener("onColorSchemeChange",e=>{if(!utterancesLoaded)return;setUtterancesTheme(e.detail)})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2024 Sungho's Dev BLog</section><section class=powerby><a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a>로 만듦<br><a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a>의 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.26.0>Stack</a></b> 테마 사용 중</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>